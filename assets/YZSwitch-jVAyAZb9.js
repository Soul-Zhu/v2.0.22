import{d as N,L as p,M as C,m as _,o as M,x as y,w as B,Q as t,a as E,l as K,v as R,u as d,h as k,b as c,e as h,r as b,G as q,g as H}from"./main-BnXXyOo5.js";import{_ as S}from"./YZChangeFieldTag.vue_vue_type_style_index_0_lang-CU_sMXjx.js";import{u as W}from"./formWatch-KqHO0hI-.js";import"./encodeext-DBC3bVZy.js";import"./useFormEnv-VwQXjqJl.js";import"./useInitFieldState-EKN-2KHT.js";const T=N({__name:"YZSwitch",props:p({formRow:{},cfg:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:p(["update:field"],["update:modelValue"]),setup(f,{emit:w}){const o=C(f,"modelValue"),i=f,e=_(i.cfg),{WatchChageExpress:$,WatchSelfExpress:V}=W();M(()=>{console.log(o.value),y(()=>{g(),V(e.value,i.formRow,l=>{o.value=l},l=>{e.value.hidden=l,s("update:field",e.value)},l=>{e.value.disabled=l,s("update:field",e.value)},l=>{e.value.hidden=l,s("update:field",e.value)})})}),B(()=>o.value,(l,u)=>{$(i.cfg,l,i.formRow)});const s=w,v=_(""),g=()=>{const l=e.value,u=`setDisabled_${l.uuid}_${l.fullKey}`,n=`setHidden_${l.uuid}_${l.fullKey}`,m=`setColumnHidden_${l.uuid}_${l.fullKey}`,r=`setRules_${l.uuid}_${l.fullKey}`,x=`setClose_${l.uuid}`;t.on(u,a=>{e.value.disabled=a,s("update:field",e.value)}),t.on(n,a=>{e.value.hidden=a,s("update:field",e.value)}),t.on(m,a=>{e.value.hidden=a,s("update:field",e.value)}),t.on(r,a=>{e.value.rules=[a],s("update:field",e.value)}),t.on(x,a=>{v.value=a})};return(l,u)=>{const n=b("van-switch"),m=b("van-field");return H(),E("div",{class:q(d(v))},[K(k("div",null,[c(m,{name:d(e).bindModel,disabled:d(e).disabled,required:d(e).required,rules:d(e).rules,label:d(e).fieldLabel},{input:h(()=>[c(n,{disabled:d(e).disabled,modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=r=>o.value=r),size:"20px"},null,8,["disabled","modelValue"])]),button:h(()=>[c(S,{field:d(e)},null,8,["field"])]),_:1},8,["name","disabled","required","rules","label"])],512),[[R,!d(e).hidden]])],2)}}});export{T as default};
