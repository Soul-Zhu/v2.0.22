import{d as k,o as M,A as T,m as r,q as m,p as _,a as C,g as O,h as s,b as B,u as n,r as I,t as l,E as L}from"./main-BnXXyOo5.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"prievw-main"},S={class:"prievw-header"},A={class:"priew-content"},E={class:"priew-title",style:{"font-weight":"500","margin-bottom":"10px"}},G={class:"priew-title"},H={class:"priew-title"},P={class:"priew-title"},R={class:"priew-main-d"},V=["innerHTML"],Y=k({__name:"NFPrievw",setup(Z){const g=T(),D=L();M(()=>{const{record:t}=g.params;t&&b(String(t))});const u=r("预览"),f=r(""),v=r(""),w=r(""),N=()=>{D.back()},b=async t=>{if(!t)return;const a=m.getNewsDetail.url.toFetchUrl({params1:"622177853534277",params2:t}),{success:o,data:i}=await _(a);if(o){const{app:e}=i;if(e){const{viewModel:c}=e;if(c){const{data:p}=c;u.value=p.标题,v.value=p.创建时间;let d=String(p.正文内容);d=d.replaceAll("<img ",'<img style="width:90%;height:auto;margin:5px auto;"'),w.value=d,await y(e.memberId),await x(e.ouid)}}}},y=async t=>{const a=m.getMemberDefind.url+"?memberId="+t,{success:o,data:i}=await _(a);if(o){const e=i.Data,{User:c}=e;c&&(f.value=c.DisplayName)}},h=r(""),x=async t=>{const a=m.getOuDefine.url+"?ouid="+t,{success:o,data:i}=await _(a);if(o){const e=i.Data;e&&(h.value=e.OUName)}};return(t,a)=>{const o=I("YZNav");return O(),C("div",F,[s("div",S,[B(o,{title:n(u),leftText:t.$t("Global.Back"),onOnLeftClick:N,rightText:""},null,8,["title","leftText"])]),s("div",A,[s("p",E,l(n(u)),1),s("p",G,"发布人姓名: "+l(n(f)),1),s("p",H,"发布人部门: "+l(n(h)),1),s("p",P,"创建时间: "+l(n(v)),1),a[0]||(a[0]=s("p",{class:"priew-title"},"正文",-1)),s("div",R,[s("div",{innerHTML:n(w),class:"priew-main-d-content"},null,8,V)])])])}}}),$=U(Y,[["__scopeId","data-v-c53790d7"]]);export{$ as default};
