const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ReturnStepPopup-Ccet5_J_.js","./main-BnXXyOo5.js","./main-CVDmtNd4.css","./_plugin-vue_export-helper-DlAUqK2U.js","./ReturnStepPopup-CEbRDRyx.css"])))=>i.map(i=>d[i]);
import{d as I,W as w,c as N,m as b,a as y,b as a,e as B,r as F,u as r,f as P,F as T,_ as D,g as E,k as A,t as M,A as O,E as V,Q as L,K as W,y as c,a0 as x}from"./main-BnXXyOo5.js";import{a as z}from"./app.hook-BvqEBUQR.js";import{P as K}from"./ProcessServices-D_wUXXVf.js";import"./LoginFactory-C2TRmDIo.js";import"./wecom.prod-DVLinVsr.js";const J=I({__name:"YZRecedeBack",props:{btnName:{},componentName:{},action:{},icon:{},others:{},hairline:{type:Boolean},env:{}},setup(Q){const o=w(),i=P(()=>D(()=>import("./ReturnStepPopup-Ccet5_J_.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),u=N(()=>o.getCurrentFormId),p=async()=>{L.emit("onForm_MoreClose",!1),n.value=!0},n=b(!1),m=()=>{n.value=!1},l=new K,f=O(),d=V(),_=async(e,s)=>{const{stepId:t,taskId:g}=f.params,{success:v,data:S,errorMessage:R}=await l.onReturnTaskToStep(e,String(t),String(g),s);if(!v){W(R,"danger");return}n.value=!1;const{tosteps:h}=S,C=o.getRuningProcessInfoDefined(u.value).processInstance.serialNum,k=c("Form.ReturnBack",{sn:C,tostep:h});x({title:c("Form.TipTitle"),message:k}).then(()=>{z(d)})};return(e,s)=>{const t=F("van-button");return E(),y(T,null,[a(t,{hairline:e.hairline,icon:e.icon,size:"small",onClick:p,block:""},{default:B(()=>[A(M(e.btnName),1)]),_:1},8,["hairline","icon"]),a(r(i),{show:r(n),onOnReturnStepCancel:m,onOnReturnStepConfirm:_},null,8,["show"])],64)}}});export{J as default};
