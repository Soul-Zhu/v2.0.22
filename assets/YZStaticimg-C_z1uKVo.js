import{d as p,L as v,M as w,m as c,c as _,o as I,x as b,Q as C,a as x,l as M,v as U,u as t,h as V,b as m,e as d,r as g,G as k,g as N,k as B,S}from"./main-BnXXyOo5.js";const E=p({__name:"YZStaticimg",props:v({cfg:{},formRow:{}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(i){w(i,"modelValue");const e=i,a=c(e.cfg),r=_(()=>{if(!e.cfg.ImgUrl)return"";if(e.cfg.ImgUrl.startsWith("https")||e.cfg.ImgUrl.startsWith("http"))return e.cfg.ImgUrl;{let s=e.cfg.ImgUrl;return s.startsWith("/")&&(s=s.substring(1)),window.webConfig.host+s}});I(()=>{b(()=>{u()})});const f=()=>{S([r.value])},l=c(""),u=()=>{const o=`setClose_${e.cfg.uuid}`;C.on(o,n=>{l.value=n})};return(s,o)=>{const n=g("van-image"),h=g("van-field");return N(),x("div",{class:k(t(l))},[M(V("div",null,[m(h,{name:t(a).bindModel,label:t(a).fieldLabel},{input:d(()=>[m(n,{width:t(a).ImgWidth,height:t(a).ImgHeight,onClick:f,src:t(r)},{error:d(()=>o[0]||(o[0]=[B("图片不存在,加载失败")])),_:1},8,["width","height","src"])]),_:1},8,["name","label"])],512),[[U,!t(a).hidden]])],2)}}});export{E as default};
