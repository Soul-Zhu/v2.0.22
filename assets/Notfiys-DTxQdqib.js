import{d as L,m as l,c as w,A,a8 as E,a as x,g as v,h as u,b as m,u as r,r as d,e as h,i as N,E as P,F as T,j as U,s as $,t as b,J as j,q}from"./main-BnXXyOo5.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"notify-main"},z={class:"notity-header"},G={class:"notify-content"},H={class:"notify-text"},K={class:"notify-time"},O=L({__name:"Notfiys",setup(Q){const p={0:"通知",1:"公司文化",2:"新闻"},f=A(),i=l([]),n=l(!1),_=l(!1),s=l(!1),c=l(1),C=w(()=>p[Number(f.params.id)]??"通知"),B=w(()=>p[Number(f.params.id)]),y=P(),g=async()=>{s.value&&(i.value=[],s.value=!1),p[Number(f.params.id)];const e=D(),o=(await j(q.getNews.url,e)).data;o&&o.children<=0?_.value=!0:i.value.push(...o.children),c.value++,n.value=!1},D=()=>{const e=new FormData,t=(c.value-1)*10;return e.append("page",String(c.value)),e.append("start",String(t)),e.append("limit",String(10)),e.append("Type",B.value),e},I=()=>{y.go(-1)};E(async()=>{i.value.length>0&&k()});const R=e=>{const t=e.TaskID;y.push({path:`/preview/622177853534277/${t}`,replace:!1})},k=async()=>{c.value=1,_.value=!1,n.value=!0,s.value=!0,await g()};return(e,t)=>{const o=d("van-nav-bar"),V=d("van-cell"),S=d("van-list"),F=d("van-pull-refresh");return v(),x("div",M,[u("div",z,[m(o,{title:r(C),"left-text":"返回","left-arrow":"",onClickLeft:I},null,8,["title"])]),u("div",G,[m(F,{modelValue:r(s),"onUpdate:modelValue":t[1]||(t[1]=a=>N(s)?s.value=a:null),onRefresh:k},{default:h(()=>[m(S,{loading:r(n),"onUpdate:loading":t[0]||(t[0]=a=>N(n)?n.value=a:null),finished:r(_),"finished-text":"没有更多了",onLoad:g},{default:h(()=>[(v(!0),x(T,null,U(r(i),(a,W)=>(v(),$(V,{title:"单元格",onClick:X=>R(a),key:a.ItemId},{title:h(()=>[u("span",H,b(a.标题),1),u("span",K,b(a.创建时间),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])}}}),ee=J(O,[["__scopeId","data-v-9944a0c4"]]);export{ee as default};
