const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AboutPop-CYxl5XjB.js","./main-BnXXyOo5.js","./main-CVDmtNd4.css","./_plugin-vue_export-helper-DlAUqK2U.js","./AboutPop-CUq0PO94.css","./OutOfficePop-B09yTGzp.js","./OutOfficePop-DUOaCSPj.css","./SetLangPop-CiegOmVO.js","./SetLangPop-n9R1zdWa.css","./VersionPop-CpHXf_jT.js","./VersionPop-D4uYQ9Q9.css","./ChangeLogPop-DsBGhvkR.js","./ChangeLogPop-b3OR7VIv.css"])))=>i.map(i=>d[i]);
import{D as M,c as w,E as S,m as C,ak as U,aJ as v,o as $,x as H,p as L,q as E,O as F,aK as K,f as g,_ as P,d as Y,a as f,g as r,b as i,h as a,n as Z,r as u,e as h,F as A,j as b,u as c,t as y,s as V,a5 as j,k as q}from"./main-BnXXyOo5.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k=F(),J=g(()=>P(()=>import("./AboutPop-CYxl5XjB.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Q=g(()=>P(()=>import("./OutOfficePop-B09yTGzp.js"),__vite__mapDeps([5,1,2,3,6]),import.meta.url)),W=g(()=>P(()=>import("./SetLangPop-CiegOmVO.js"),__vite__mapDeps([7,1,2,3,8]),import.meta.url)),z=g(()=>P(()=>import("./VersionPop-CpHXf_jT.js"),__vite__mapDeps([9,1,2,3,10]),import.meta.url)),X=g(()=>P(()=>import("./ChangeLogPop-DsBGhvkR.js"),__vite__mapDeps([11,1,2,3,12]),import.meta.url)),ee=()=>{const I=M(),x=w(()=>I.getUser),_=S(),l=C(""),d=w(()=>sessionStorage.getItem(U.userAvatal)),o=C([{name:"my.outoffice",isPop:!1,component:v(Q),iconName:"comment-circle",handler:e=>{o.value[e].isPop=!0},onBack(e){const s=o.value.findIndex(n=>n.name===e);o.value[s].isPop=!1},color:"#54d1ec"},{name:"my.setlang",isPop:!1,component:v(W),iconName:"records",color:"#d822a0",handler:e=>{o.value[e].isPop=!0},onBack(e){const s=o.value.findIndex(n=>n.name===e);o.value[s].isPop=!1}},{name:"my.version",isPop:!1,component:v(z),iconName:"tosend",handler:e=>{o.value[e].isPop=!0},onBack(e){const s=o.value.findIndex(n=>n.name===e);o.value[s].isPop=!1},color:"#55aed8"},{name:"my.logs",isPop:!1,component:v(X),iconName:"info-o",handler:e=>{o.value[e].isPop=!0},onBack(e){const s=o.value.findIndex(n=>n.name===e);o.value[s].isPop=!1},color:"#55aed8"},{name:"my.about",isPop:!1,iconName:"eye-o",component:v(J),handler:e=>{o.value[e].isPop=!0},onBack(e){const s=o.value.findIndex(n=>n.name===e);o.value[s].isPop=!1},color:"#a00a41"}]),m=async()=>{const{success:e}=await L(E.loginOut.url);e&&(sessionStorage.clear(),k==="H5"?_.push({path:K[k],replace:!0}):parent.window.uni.reLaunch({url:"/pages/index/login?action=logout"}),_.push({path:"/login"}))};$(async()=>{H(async()=>{const{data:e,success:s}=await L(E.getUserInfo.url);s&&I.setUser(e.user);let n=e.user.PortraitUrl;n.startsWith("/")&&(n=n.substring(1)),d.value?l.value=d.value:l.value=window.webConfig.host+n})});const O=w(()=>k==="H5"||k==="UNIAPP");return{menu:o,handlerOut:m,userImage:l,userInfo:x,userAvatal:d,showLoginOut:O}},oe={class:"my-page"},ne={class:"header"},se={class:"per-image"},te=["src"],ae={class:"per-user"},ce={class:"per-dept"},le={class:"per-dept"},re={class:"content"},ie={key:0,class:"login-out-btn"},ue=Y({__name:"My",setup(I){const{handlerOut:x,menu:_,userInfo:l,userImage:d,showLoginOut:o}=ee();return(m,O)=>{const e=u("YZNav"),s=u("van-col"),n=u("van-divider"),B=u("van-row"),D=u("van-icon"),R=u("van-cell"),T=u("van-button");return r(),f("div",oe,[i(e,{class:"nav-header",title:m.$t("LayOut.My"),rightText:""},null,8,["title"]),a("div",ne,[i(B,null,{default:h(()=>[i(s,{span:6},{default:h(()=>[a("div",se,[a("img",{width:"80",height:"80",src:c(d)},null,8,te)])]),_:1}),i(s,{span:18},{default:h(()=>{var t,p,N;return[a("p",ae,y((t=c(l))==null?void 0:t.DisplayName),1),a("p",null,[a("span",ce,y((p=c(l))==null?void 0:p.Account),1),i(n,{vertical:"",style:{background:"#000"}}),a("span",le,y((N=c(l))==null?void 0:N.CostCenter),1)])]}),_:1})]),_:1})]),a("div",re,[(r(!0),f(A,null,b(c(_),(t,p)=>(r(),V(R,{key:t.name,icon:t.iconName,title:m.$t(t.name),"is-link":"",onClick:N=>t.handler(p)},{icon:h(()=>[i(D,{class:"van-cell__left-icon",name:t.iconName,color:t.color},null,8,["name","color"])]),_:2},1032,["icon","title","onClick"]))),128))]),(r(!0),f(A,null,b(c(_),(t,p)=>(r(),f("div",{key:p},[(r(),V(j(t.component),{item:t,isPop:t.isPop},null,8,["item","isPop"]))]))),128)),c(o)?(r(),f("div",ie,[i(T,{type:"warning",onClick:c(x),block:""},{default:h(()=>[q(y(m.$t("my.LogOut")),1)]),_:1},8,["onClick"])])):Z("",!0)])}}}),de=G(ue,[["__scopeId","data-v-c696100a"]]);export{de as default};
