const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PickBackPopup-vrlC2CQT.js","./main-BnXXyOo5.js","./main-CVDmtNd4.css","./_plugin-vue_export-helper-DlAUqK2U.js","./PickBackPopup-CU2Tv3Yq.css"])))=>i.map(i=>d[i]);
import{d as S,m as N,W as w,c as y,a as F,b as t,e as I,r as R,u as r,f as b,F as T,_ as D,g as E,k as M,t as A,A as O,E as U,Q as V,K as L,y as c,a0 as W}from"./main-BnXXyOo5.js";import{a as x}from"./app.hook-BvqEBUQR.js";import{P as z}from"./ProcessServices-D_wUXXVf.js";import"./LoginFactory-C2TRmDIo.js";import"./wecom.prod-DVLinVsr.js";const H=S({__name:"YZPickBack",props:{btnName:{},componentName:{},action:{},icon:{},others:{},hairline:{type:Boolean},env:{}},setup(K){const i=b(()=>D(()=>import("./PickBackPopup-vrlC2CQT.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),s=N(!1),n=w(),m=y(()=>n.getCurrentFormId),l=async()=>{V.emit("onForm_MoreClose",!1),s.value=!0},p=()=>{s.value=!1},u=new z,f=O(),d=U(),k=async(e,a)=>{const{taskId:o}=f.params,{success:_,data:g,errorMessage:v}=await u.onPickUpTask(String(o),String(a[0]),e);if(!_){L(v,"danger");return}s.value=!1;const P=n.getProcessReadDefined(m.value).processInstance.serialNum,{StepName:h,UserFriendlyName:C}=g,B=c("Form.PicUpMsg",{sn:P,stepname:h,fname:C});W({title:c("Form.TipTitle"),message:B}).then(()=>{x(d)})};return(e,a)=>{const o=R("van-button");return E(),F(T,null,[t(o,{icon:e.icon,hairline:e.hairline,size:"small",onClick:l,block:""},{default:I(()=>[M(A(e.btnName),1)]),_:1},8,["icon","hairline"]),t(r(i),{show:r(s),onOnPickBackCancel:p,onOnPickBackConfirm:k},null,8,["show"])],64)}}});export{H as default};
