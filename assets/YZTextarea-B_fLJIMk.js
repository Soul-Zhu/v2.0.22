import{d as C,L as f,M as y,m as p,o as R,x as B,Q as n,w as M,a as S,l as k,v as E,u as l,h as v,b as _,e as K,r as q,G as H,g as h,s as L,n as T}from"./main-BnXXyOo5.js";import{_ as W}from"./YZChangeFieldTag.vue_vue_type_style_index_0_lang-CU_sMXjx.js";import{_ as z}from"./YZScan.vue_vue_type_script_setup_true_lang-DLE18mBn.js";import{u as D}from"./formWatch-KqHO0hI-.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./encodeext-DBC3bVZy.js";import"./LoginFactory-C2TRmDIo.js";import"./wecom.prod-DVLinVsr.js";import"./useFormEnv-VwQXjqJl.js";import"./useInitFieldState-EKN-2KHT.js";const Y={class:"button-area"},Z=C({__name:"YZTextarea",props:f({formRow:{},cfg:{}},{modelValue:{type:String},modelModifiers:{}}),emits:f(["update:field"],["update:modelValue"]),setup(r,{emit:x}){const t=y(r,"modelValue"),u=r,e=p(u.cfg),{WatchChageExpress:b,WatchSelfExpress:w}=D();R(()=>{B(()=>{$(),w(e.value,u.formRow,a=>{t.value=a},a=>{e.value.hidden=a,s("update:field",e.value)},a=>{e.value.disabled=a,s("update:field",e.value)},a=>{e.value.hidden=a,s("update:field",e.value)})})});const s=x,c=p(""),$=()=>{const a=e.value,d=`setDisabled_${a.uuid}_${a.fullKey}`,i=`setHidden_${a.uuid}_${a.fullKey}`,m=`setColumnHidden_${a.uuid}_${a.fullKey}`,V=`setRules_${a.uuid}_${a.fullKey}`,N=`setClose_${a.uuid}`;n.on(d,o=>{e.value.disabled=o,s("update:field",e.value)}),n.on(i,o=>{e.value.hidden=o,s("update:field",e.value)}),n.on(m,o=>{e.value.hidden=o,s("update:field",e.value)}),n.on(V,o=>{e.value.rules=[o],s("update:field",e.value)}),n.on(N,o=>{c.value=o})};M(()=>t.value,(a,d)=>{b(e.value,a,u.formRow)});const g=a=>{t.value=a};return(a,d)=>{const i=q("van-field");return h(),S("div",{class:H(l(c))},[k(v("div",null,[_(i,{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=m=>t.value=m),rows:l(e).minRows,autosize:"",name:l(e).bindModel,label:l(e).fieldLabel,min:l(e).minRows,required:l(e).required,rules:l(e).rules,disabled:l(e).disabled,maxlength:l(e).maxLength,max:l(e).maxRows,placeholder:l(e).placeholder,type:"textarea"},{button:K(()=>[v("div",Y,[l(e).showScanBtn?(h(),L(z,{key:0,onOnScan:g})):T("",!0),_(W,{field:l(e)},null,8,["field"])])]),_:1},8,["modelValue","rows","name","label","min","required","rules","disabled","maxlength","max","placeholder"])],512),[[E,!l(e).hidden]])],2)}}}),ee=F(Z,[["__scopeId","data-v-548b1360"]]);export{ee as default};
