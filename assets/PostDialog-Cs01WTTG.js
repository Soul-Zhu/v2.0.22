import{d as q,c as z,$ as N,m as F,a as b,g as _,b as n,r,u as t,i as D,e as s,h as V,s as O,n as S,k as u,t as d}from"./main-BnXXyOo5.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=()=>({createRequiredFlag:(m,w)=>{Object.keys(m).forEach(c=>{const i=m[c];if(i.options&&i.options.validators){const p=i.options.validators.some(f=>f.type==="required");i.flagSource=p??!1,i.required=p??!1}})}}),E={class:""},G={class:"pup-control"},I={key:1},Y=q({__name:"PostDialog",props:{show:{type:Boolean,default:!1},consign:{type:Boolean,default:!1}},emits:["update:show","update:confirm"],setup(U,{emit:m}){const w=U,c=m,i=z({get:()=>w.show,set:o=>{}}),a=N({openConsign:!1,comment:"",consignRoutingType:"Parallel",consignReturnType:"Return",signUsers:"",context:{Routing:{}}}),p=F(!1),f=F([]),R=()=>{p.value=!0},h=o=>{f.value=o,a.signUsers=o.map(e=>e.account).join(",")};return(o,e)=>{const y=r("van-button"),v=r("van-field"),C=r("van-switch"),k=r("van-cell"),B=r("van-divider"),g=r("van-radio"),$=r("van-radio-group"),P=r("van-popup"),T=r("YZUserSelect");return _(),b("div",E,[n(P,{show:t(i),"onUpdate:show":e[7]||(e[7]=l=>D(i)?i.value=l:null),position:"top"},{default:s(()=>[V("div",null,[V("div",G,[n(y,{size:"small",class:"pup-btn",onClick:e[0]||(e[0]=l=>c("update:show",t(a)))},{default:s(()=>[u(d(o.$t("Global.Cancle")),1)]),_:1}),n(y,{size:"small",class:"pup-btn",type:"primary",onClick:e[1]||(e[1]=l=>c("update:confirm",t(a)))},{default:s(()=>[u(d(o.$t("Global.Finish")),1)]),_:1})]),V("div",null,[n(v,{rows:"2",modelValue:t(a).comment,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).comment=l),autosize:"",placeholder:o.$t("Form.Opinion"),type:"textarea"},null,8,["modelValue","placeholder"])]),o.consign?(_(),O(k,{key:0,title:o.$t("Form.addSign"),value:"内容"},{value:s(()=>[n(C,{modelValue:t(a).openConsign,"onUpdate:modelValue":e[3]||(e[3]=l=>t(a).openConsign=l),size:"20"},null,8,["modelValue"])]),_:1},8,["title"])):S("",!0),t(a).openConsign?(_(),b("div",I,[n(B,null,{default:s(()=>[u(d(o.$t("Form.SignMsg")),1)]),_:1}),n(v,{label:o.$t("Form.signStaff"),modelValue:t(a).signUsers,"onUpdate:modelValue":e[4]||(e[4]=l=>t(a).signUsers=l),readonly:"","right-icon":"search",placeholder:o.$t("Form.signStaff"),onClick:R},null,8,["label","modelValue","placeholder"]),n(v,{label:o.$t("Form.routing")},{input:s(()=>[n($,{direction:"horizontal",modelValue:t(a).consignRoutingType,"onUpdate:modelValue":e[5]||(e[5]=l=>t(a).consignRoutingType=l)},{default:s(()=>[n(g,{name:"Parallel"},{default:s(()=>[u(d(o.$t("Form.parallel")),1)]),_:1}),n(g,{name:"Serial"},{default:s(()=>[u(d(o.$t("Form.serial")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(v,{label:o.$t("Form.afterSign")},{input:s(()=>[n($,{direction:"horizontal",modelValue:t(a).consignReturnType,"onUpdate:modelValue":e[6]||(e[6]=l=>t(a).consignReturnType=l)},{default:s(()=>[n(g,{name:"Return"},{default:s(()=>[u(d(o.$t("Form.signBack")),1)]),_:1}),n(g,{name:"Forward"},{default:s(()=>[u(d(o.$t("Form.signNext")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])])):S("",!0)])]),_:1},8,["show"]),n(T,{multiple:!0,defaultUsers:t(f),show:t(p),"onUpdate:show":e[8]||(e[8]=l=>p.value=!1),onOnSave:h},null,8,["defaultUsers","show"])])}}}),H=j(Y,[["__scopeId","data-v-ff5caed2"]]);export{H as P,A as u};
