import{H as t,q as r,p as c,K as n}from"./main-BnXXyOo5.js";const b=()=>{const s=async a=>{if(!a)return[];const e=l(a);return e?await p(e):[]},l=a=>a?a.type==t.table&&a.dataSourceId&&a.tableName?r.getDataBowerTableParams.url.toFetchUrl({params1:a.dataSourceId,params2:a.tableName}):a.type==t.esb&&a.dataSourceId?r.getDataBowerEsbParams.url.toFetchUrl({params1:a.dataSourceId}):a.type==t.form&&a.dataSourceId&&a.tableName?r.getDataBowerFormParams.url.toFetchUrl({params1:a.dataSourceId,params2:a.tableName}):null:null,m=a=>a?a.type==t.table&&a.dataSourceId&&a.tableName?r.getDataBowerTableSchema.url.toFetchUrl({params1:a.dataSourceId,params2:a.tableName}):a.type==t.esb&&a.dataSourceId?r.getDataBowerEsbSchema.url.toFetchUrl({params1:a.dataSourceId}):a.type==t.form&&a.dataSourceId&&a.tableName?r.getDataBowerFormSchema.url.toFetchUrl({params1:a.dataSourceId,params2:a.tableName}):null:null,p=async a=>{const{success:e,errorMessage:u,data:o}=await c(a);return e?o:(n(u,"danger"),[])},S=async a=>{const{success:e,errorMessage:u,data:o}=await c(a);return e?o:(n(u,"danger"),[])};return{getParams:s,getSchema:async a=>{if(!a)return[];const e=m(a);return e?await S(e):[]}}};export{b as u};
