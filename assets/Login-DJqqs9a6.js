import{E as w,A as h,$ as L,m as v,y as V,K as $,d as k,a as d,g as m,h as g,u as n,b as a,e as p,r as l,k as S,t as C}from"./main-BnXXyOo5.js";import{L as H}from"./LoginFactory-C2TRmDIo.js";import"./wecom.prod-DVLinVsr.js";const B=()=>{const c=w(),r=h(),o=L({username:"",password:""}),t=v(!1);return{onSubmit:async()=>{const e=H.createLoginProvider("H5"),s=V("login.Unsupport",{type:"h5"});if(e==null)return $(s);e.setRouter(c,r),t.value=!0,await e.login(o.username,o.password),t.value=!1},loginForm:o,loading:t}},F={class:"login"},M={key:0,style:{width:"100%","text-align":"center"}},N=["innerHTML"],R={key:1,class:"login-logo"},T={class:"login-form"},U={style:{margin:"16px"}},A=k({__name:"Login",setup(c){const{onSubmit:r,loginForm:o,loading:t}=B(),i=v(window.webConfig.loginLogoHtml);return(e,s)=>{const _=l("van-field"),f=l("van-cell-group"),b=l("van-button"),y=l("van-form");return m(),d("div",F,[n(i)?(m(),d("div",M,[g("div",{innerHTML:n(i)},null,8,N)])):(m(),d("div",R)),g("div",T,[a(y,{onSubmit:n(r)},{default:p(()=>[a(f,{inset:""},{default:p(()=>[a(_,{modelValue:n(o).username,"onUpdate:modelValue":s[0]||(s[0]=u=>n(o).username=u),name:"用户名",label:e.$t("login.username"),placeholder:e.$t("login.entername"),rules:[{required:!0,message:e.$t("login.entername")}]},null,8,["modelValue","label","placeholder","rules"]),a(_,{modelValue:n(o).password,"onUpdate:modelValue":s[1]||(s[1]=u=>n(o).password=u),type:"password",name:"密码",label:e.$t("login.password"),placeholder:e.$t("login.enterpass"),rules:[{required:!0,message:e.$t("login.enterpass")}]},null,8,["modelValue","label","placeholder","rules"])]),_:1}),g("div",U,[a(b,{round:"",block:"",type:"primary",loading:n(t),"native-type":"submit"},{default:p(()=>[S(C(e.$t("login.loginbtn")),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])])])}}});export{A as default};
