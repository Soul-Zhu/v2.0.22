const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ReturnStartPopup-t1N__lhW.js","./main-BnXXyOo5.js","./main-CVDmtNd4.css","./_plugin-vue_export-helper-DlAUqK2U.js","./ReturnStartPopup-BOOGdBoB.css"])))=>i.map(i=>d[i]);
import{d as I,W as w,m as N,c as y,a as F,b as r,e as b,r as k,u as a,f as P,F as T,_ as D,g as E,k as A,t as B,A as O,E as V,K as L,y as i,a0 as M}from"./main-BnXXyOo5.js";import{a as W}from"./app.hook-BvqEBUQR.js";import{P as z}from"./ProcessServices-D_wUXXVf.js";import"./LoginFactory-C2TRmDIo.js";import"./wecom.prod-DVLinVsr.js";const x=I({__name:"YZReturnStart",props:{btnName:{},componentName:{},action:{},icon:{},others:{},hairline:{type:Boolean},env:{}},setup(K){const o=w(),c=P(()=>D(()=>import("./ReturnStartPopup-t1N__lhW.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),n=N(!1),u=y(()=>o.getCurrentFormId),m=async()=>{n.value=!0},l=()=>{n.value=!1},p=O(),f=V(),d=async e=>{const s=new z,{stepId:t,taskId:_}=p.params,{success:g,errorMessage:R,data:h}=await s.onReturnToRestart(e,String(_),String(t));if(!g){L(R,"danger");return}const{UserFriendlyName:v}=h;n.value=!1;const C=o.getRuningProcessInfoDefined(u.value).processInstance.serialNum,S=i("Form.ReturnStart",{sn:C,user:v});M({title:i("Form.TipTitle"),message:S}).then(()=>{W(f)})};return(e,s)=>{const t=k("van-button");return E(),F(T,null,[r(t,{icon:e.icon,hairline:e.hairline,size:"small",onClick:m,block:""},{default:b(()=>[A(B(e.btnName),1)]),_:1},8,["icon","hairline"]),r(a(c),{show:a(n),title:e.$t("Form.returnConfirm"),onOnReturnCancel:l,onOnReturnConfirm:d},null,8,["show","title"])],64)}}});export{x as default};
