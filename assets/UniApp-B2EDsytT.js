import{L as i}from"./LoginFactory-C2TRmDIo.js";import{d as c,C as u,o as g,X as m,y as p,K as d,E as _,A as l,ak as f,a as y,g as k}from"./main-BnXXyOo5.js";import"./wecom.prod-DVLinVsr.js";const A={class:""},C=c({__name:"UniApp",setup(S){const a=_(),t=l(),n=u();return g(async()=>{const o=m(!0,"认证中...");await n.getAdminConfig(),await n.getSystemConfig();const e=i.createLoginProvider("UNIAPP"),r=p("login.Unsupport",{type:"UNIAPP"});if(e==null)return d(r);e.setRouter(a,t);const s=String(t.query.token);s&&sessionStorage.setItem(f.access_token,s),await e.login(s),o&&o.remove()}),(o,e)=>(k(),y("div",A))}});export{C as default};
