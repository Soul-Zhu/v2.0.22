import{d as h,W as g,m as r,o as x,x as N,Q as l,a as C,l as $,v as k,u as i,h as B,b as w,e as y,r as D,G as E,g as S,k as R,t as F}from"./main-BnXXyOo5.js";import{u as I}from"./formWatch-KqHO0hI-.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFormEnv-VwQXjqJl.js";import"./encodeext-DBC3bVZy.js";import"./useInitFieldState-EKN-2KHT.js";const V={class:"button-div"},W=h({__name:"YZButton",props:{cfg:{},formRow:{}},emits:["update:field"],setup(m,{emit:f}){const{WatchSelfExpress:v}=I(),c=g(),o=m,t=r(o.cfg);x(()=>{N(()=>{p(),v(t.value,o.formRow,e=>{},e=>{t.value.hidden=e,n("update:field",t.value)},e=>{t.value.disabled=e,n("update:field",t.value)},e=>{})})});const n=f,u=r(""),p=()=>{const e=t.value,d=`setHidden_${e.uuid}_${e.fullKey}`,a=`setDisabled_${e.uuid}_${e.fullKey}`,b=`setClose_${e.uuid}`;l.on(d,s=>{t.value.hidden=s,n("update:field",t.value)}),l.on(a,s=>{t.value.disabled=s,n("update:field",t.value)}),l.on(b,s=>{u.value=s})},_=()=>{const e=c.getCurrentFormId,d=c.getRuningFormData(e),a=`onEvent_${o.cfg.fieldLabel}_${e}`;l.emit(a,{value:o.cfg.fieldLabel,form:d})};return(e,d)=>{const a=D("van-button");return S(),C("div",{class:E(i(u))},[$(B("div",V,[w(a,{disabled:i(t).disabled,type:"primary",onClick:_,size:"small",block:""},{default:y(()=>[R(F(i(t).fieldLabel),1)]),_:1},8,["disabled"])],512),[[k,!i(t).hidden]])],2)}}}),H=L(W,[["__scopeId","data-v-6b7cf9b1"]]);export{H as default};
