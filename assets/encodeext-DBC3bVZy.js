import{K as useMessage}from"./main-BnXXyOo5.js";const nDate=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/,USE_NATIVE_JSON=!1,hasNative=window.JSON&&JSON.toString()==="[object JSON]",useHasOwn=!!{}.hasOwnProperty,charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,_str="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",mStr={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},useEncode=()=>{const pad=e=>e<10?"0"+e:e,isDate=e=>Object.prototype.toString.call(e)==="[object Date]",isString=e=>typeof e=="string",isMSDate=e=>isString(e)?nDate.test(e):!1,isBoolean=e=>typeof e=="boolean",isArray=e=>Array.isArray(e),isObject=e=>e!==null&&Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e)===Object.prototype,isEmpty=(e,t=void 0)=>e==null||(t?!1:e==="")||isArray(e)&&e.length===0,encodeArray=(e,t)=>{if(t)return encodeArrayPretty(e,t);var r=["[",""],o=e.length,n;for(n=0;n<o;n+=1)r.push(encode(e[n]),",");return r[r.length-1]="]",r.join("")},encodeArrayPretty=(e,t)=>{var r=e.length,o=t+"   ",n=","+o,c=["[",o],s;for(s=0;s<r;s+=1)c.push(encode(e[s],o),n);return c[c.length-1]=t+"]",c.join("")},encodeObject=(e,t)=>{if(t)return encodeObjectPretty(e,t);var r=["{",""],o,n;for(o in e)if(n=e[o],!useHasOwn||e.hasOwnProperty(o)){if(typeof n=="function"||n===void 0)continue;r.push(encode(o),":",encode(n),",")}return r[r.length-1]="}",r.join("")},encodeObjectPretty=(e,t)=>{var r=t+"   ",o=","+r,n=["{",r],c,s;for(c in e)if(s=e[c],!useHasOwn||e.hasOwnProperty(c)){if(typeof s=="function"||s===void 0||s.isInstance)continue;n.push(encode(c)+": "+encode(s,r),o)}return n[n.length-1]=t+"}",n.join("")},encodeDate=e=>'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"',encodeMSDate=e=>'"'+e+'"',encodeString=e=>'"'+e.replace(charToReplace,function(t){var r=mStr[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"',encode=(e,t)=>e==null?"null":isDate(e)?encodeDate(e):isString(e)?isMSDate(e)?encodeMSDate(e):encodeString(e):typeof e=="number"?isFinite(e)?String(e):"null":isBoolean(e)?String(e):typeof e.toJSON=="function"?encode(e.toJSON()):isArray(e)?encodeArray(e,t):isObject(e)?encodeObject(e,t):typeof e=="function"?"null":"undefined",doDecode=json=>eval("("+json+")"),decode=(e,t)=>{try{return doDecode(e)}catch{if(t)return null;useMessage("解码失败","danger")}},utf8Encode=e=>{e=e.replace(/\r\n/g,`
`);let t="",r=0,o=e.length;for(;r<o;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(n&63|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(n&63|128))}return t},utf8Decode=e=>{let t="",r=0,o=0,n=0,c=0,s=e.length;for(;r<s;)o=e.charCodeAt(r),o<128?(t+=String.fromCharCode(o),r++):o>191&&o<224?(c=e.charCodeAt(r+1),t+=String.fromCharCode((o&31)<<6|c&63),r+=2):(c=e.charCodeAt(r+1),n=e.charCodeAt(r+2),t+=String.fromCharCode((o&15)<<12|(c&63)<<6|n&63),r+=3);return t},encodeBase64=e=>{let t="",r=0,o=0,n=0,c=0,s=0,l=0,d=0,i=0;e=utf8Encode(e);const f=e.length;for(;i<f;)r=e.charCodeAt(i++),o=e.charCodeAt(i++),n=e.charCodeAt(i++),c=r>>2,s=(r&3)<<4|o>>4,l=(o&15)<<2|n>>6,d=n&63,isNaN(o)?l=d=64:isNaN(n)&&(d=64),t=t+_str.charAt(c)+_str.charAt(s)+_str.charAt(l)+_str.charAt(d);return t},decodeBase64=e=>{let t="",r=0,o=0,n=0,c=0,s=0,l=0,d=0,i=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var f=e.length;i<f;)c=_str.indexOf(e.charAt(i++)),s=_str.indexOf(e.charAt(i++)),l=_str.indexOf(e.charAt(i++)),d=_str.indexOf(e.charAt(i++)),r=c<<2|s>>4,o=(s&15)<<4|l>>2,n=(l&3)<<6|d,t=t+String.fromCharCode(r),l!==64&&(t=t+String.fromCharCode(o)),d!==64&&(t=t+String.fromCharCode(n));return t=utf8Decode(t),t};return{isEmpty,encode,decode,encodeBase64,decodeBase64}};export{useEncode as u};
