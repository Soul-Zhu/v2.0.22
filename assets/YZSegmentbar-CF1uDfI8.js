import{d as Y,W as Z,m as p,o as k,x as N,Q as v,l as r,v as l,a as y,h as d,b as u,r as g,u as _,a2 as h,g as E}from"./main-BnXXyOo5.js";import{u as R}from"./formWatch-KqHO0hI-.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFormEnv-VwQXjqJl.js";import"./encodeext-DBC3bVZy.js";import"./useInitFieldState-EKN-2KHT.js";const F={class:"segment-content"},V={class:"segment-left"},W=Y({__name:"YZSegmentbar",props:{cfg:{},formRow:{}},emits:["update:field"],setup(w,{emit:b}){const m=Z(),a=w,s=p(a.cfg),{WatchSelfExpress:x}=R(),c=p(!0);k(()=>{S(),N(()=>{x(s.value,a.formRow,e=>{},e=>{s.value.hidden=e,f("update:field",s.value)},e=>{},e=>{})})});const f=b,C=()=>{const e=!c.value,i=e?"open-semgar":"close-semgar";c.value=e;const o=m.getCurrentFormId,t=m.getRuningPlainsCfg(o),B=t.findIndex(n=>n.uuid===a.cfg.uuid)+1;for(let n=B;n<t.length&&!(t[n].ctype===h.YZSegmentbar||t[n].ctype===h.YZGrid);n++){const I=`setClose_${t[n].uuid}`;v.emit(I,i),console.log("vv",t[n].fieldLabel)}},S=()=>{const e=a.cfg,i=`setHidden_${e.uuid}_${e.fullKey}`;v.on(i,o=>{s.value.hidden=o,f("update:field",s.value)})};return(e,i)=>{const o=g("YZTitleBar"),t=g("van-icon");return r((E(),y("div",null,[d("div",F,[d("div",V,[u(o,{title:e.cfg.fieldLabel},null,8,["title"])]),d("div",{class:"segment-right",onClick:C},[r(u(t,{name:"arrow-down"},null,512),[[l,_(c)]]),r(u(t,{name:"arrow-up"},null,512),[[l,!_(c)]])])])],512)),[[l,!e.cfg.hidden]])}}}),Q=T(W,[["__scopeId","data-v-1e0c7376"]]);export{Q as default};
