const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./RejectPopup-PnbIpnVB.js","./main-BnXXyOo5.js","./main-CVDmtNd4.css","./_plugin-vue_export-helper-DlAUqK2U.js","./RejectPopup-_qozVdwL.css"])))=>i.map(i=>d[i]);
import{d as C,m as P,W as j,c as I,a as w,b as a,e as S,r as k,u as r,f as N,F as b,_ as y,g as F,k as T,t as D,A as E,E as A,K as B,y as c,a0 as M}from"./main-BnXXyOo5.js";import{a as O}from"./app.hook-BvqEBUQR.js";import{P as V}from"./ProcessServices-D_wUXXVf.js";import"./LoginFactory-C2TRmDIo.js";import"./wecom.prod-DVLinVsr.js";const G=C({__name:"YZReject",props:{btnName:{},componentName:{},action:{},icon:{},others:{},hairline:{type:Boolean},env:{}},setup(L){const i=N(()=>y(()=>import("./RejectPopup-PnbIpnVB.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),s=P(!1),n=j(),m=I(()=>n.getCurrentFormId),u=async()=>{s.value=!0},l=new V,p=E(),f=A(),d=async e=>{const{stepId:t,taskId:o}=p.params,{success:g,data:W,errorMessage:v}=await l.onRejectTask(e,String(o),String(t));if(!g){B(v,"danger");return}s.value=!1;const R=n.getRuningProcessInfoDefined(m.value).processInstance.serialNum,h=c("Form.RejectMsg",{sn:R});M({title:c("Form.TipTitle"),message:h}).then(()=>{O(f)})},_=()=>{s.value=!1};return(e,t)=>{const o=k("van-button");return F(),w(b,null,[a(o,{icon:e.icon,hairline:e.hairline,size:"small",onClick:u,block:""},{default:S(()=>[T(D(e.btnName),1)]),_:1},8,["icon","hairline"]),a(r(i),{show:r(s),onOnProcessRejectConfirm:d,onOnProcessRejectCancel:_},null,8,["show"])],64)}}});export{G as default};
